name: Discord Notify

on: [push, pull_request]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          repository: '${{ github.repository }}'
          token: '${{ github.token }}'
          fetch-depth: 0

      - name: Send Discord Notification
        uses: tsickert/discord-webhook@v5.3.0
        with:
          webhook-url: https://discord.com/api/webhooks/1088644572202151978/bj9SMeKO00N1ZxezPLjjEphwoF4qd1-TfhAIph7kQA_afmBCV_d1fs_aRl_0qxa2KkMJ
          username: GitHub ERR-Z3R0
          embed-title: "${{ github.event.head_commit.author.name }}: ${{ github.event_name }} on Main Branch!"
          embed-url: ${{ github.event.head_commit.url }}
          embed-author-icon-url: ${{ github.event.actor.avatar_url }}
          embed-description: "ðŸ—‚ **Commit:** ${{ github.event.head_commit.message }}"
          # [`${{ github.event.head_commit.id }}`](${{ github.event.head_commit.url }})

      - name: Echo
        run: echo ${{ toJSON(github.event.actor) }}
        # uses: stegzilla/discord-notify@v2
        # with:
        #   webhook_url: https://discord.com/api/webhooks/1088644572202151978/bj9SMeKO00N1ZxezPLjjEphwoF4qd1-TfhAIph7kQA_afmBCV_d1fs_aRl_0qxa2KkMJ
        #   title: "${{ github.event.head_commit.author.name }}: ${{ github.event_name }} on Main Branch!"
        #   message: "**Commit:** ${{ github.event.head_commit.message }}"
        #   include_image: true
        #   username: GitHub ERR-Z3R0